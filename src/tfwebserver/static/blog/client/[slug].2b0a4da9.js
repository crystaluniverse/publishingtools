import{S as t,i as o,s,G as n,a as e,A as c,z as l,d as a,f as r,j as i,q as u,r as p,n as f,m as d,o as m,p as h,u as b}from"./client.dcb07793.js";import{d as g}from"./_api.5f596b86.js";import"./showdown.20a62d9b.js";import{P as k}from"./PostList.fcecbbcb.js";function $(t){return{c:f,l:f,m:f,p:f,i:f,o:f,d:f}}function w(t){let o,s,e,l={ctx:t,current:null,token:null,pending:j,then:v,catch:x,value:3,blocks:[,,,]};return n(s=t[0],l),{c(){o=c(),l.block.c()},l(t){o=c(),l.block.l(t)},m(t,s){i(t,o,s),l.block.m(t,l.anchor=s),l.mount=(()=>o.parentNode),l.anchor=o,e=!0},p(o,e){if(t=o,l.ctx=t,1&e&&s!==(s=t[0])&&n(s,l));else{const o=t.slice();o[3]=l.resolved,l.block.p(o,e)}},i(t){e||(u(l.block),e=!0)},o(t){for(let t=0;t<3;t+=1){const o=l.blocks[t];p(o)}e=!1},d(t){t&&a(o),l.block.d(t),l.token=null,l=null}}}function x(t){return{c:f,l:f,m:f,p:f,i:f,o:f,d:f}}function v(t){let o;const s=new k({props:{title:"Posts with tag "+t[2],posts:t[3]}});return{c(){d(s.$$.fragment)},l(t){m(s.$$.fragment,t)},m(t,n){h(s,t,n),o=!0},p(t,o){const n={};2&o&&(n.title="Posts with tag "+t[2]),1&o&&(n.posts=t[3]),s.$set(n)},i(t){o||(u(s.$$.fragment,t),o=!0)},o(t){p(s.$$.fragment,t),o=!1},d(t){b(s,t)}}}function j(t){return{c:f,l:f,m:f,p:f,i:f,o:f,d:f}}function P(t){return{c:f,l:f,m:f,p:f,i:f,o:f,d:f}}function E(t){let o,s,f,d,m={ctx:t,current:null,token:null,pending:P,then:w,catch:$,value:2,blocks:[,,,]};return n(f=t[1],m),{c(){o=e(),s=c(),m.block.c(),this.h()},l(t){l('[data-svelte="svelte-10h7psl"]',document.head).forEach(a),o=r(t),s=c(),m.block.l(t),this.h()},h(){document.title="Blog"},m(t,n){i(t,o,n),i(t,s,n),m.block.m(t,m.anchor=n),m.mount=(()=>s.parentNode),m.anchor=s,d=!0},p(o,[s]){if(t=o,m.ctx=t,2&s&&f!==(f=t[1])&&n(f,m));else{const o=t.slice();o[2]=m.resolved,m.block.p(o,s)}},i(t){d||(u(m.block),d=!0)},o(t){for(let t=0;t<3;t+=1){const o=m.blocks[t];p(o)}d=!1},d(t){t&&a(o),t&&a(s),m.block.d(t),m.token=null,m=null}}}async function N({params:t}){let o=t.slug,s=await g(t.theuser);const n=new Map;return s.forEach(t=>{t.tags.forEach(o=>{n.has(o)?n.set(o,[...n.get(o),t]):n.set(o,[t])})}),{posts:n.get(o),tag:t.slug}}function q(t,o,s){let{posts:n=[]}=o,{tag:e=""}=o;return console.log("tag",e),t.$set=(t=>{"posts"in t&&s(0,n=t.posts),"tag"in t&&s(1,e=t.tag)}),[n,e]}export default class extends t{constructor(t){super(),o(this,t,q,E,s,{posts:0,tag:1})}}export{N as preload};
