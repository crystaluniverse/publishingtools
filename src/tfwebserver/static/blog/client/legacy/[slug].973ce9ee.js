import{a as t,b as n,W as o,c,d as r,e,f as a,i as s,s as u,g as i,S as l,O as f,x as p,t as h,T as d,l as m,y as v,n as g,u as b,K as k,L as x,p as $,H as y,I as w,J as P,M as R}from"./client.b4a6b013.js";import{b as j}from"./_api.5226a2b9.js";import"./showdown.93146622.js";import{P as E}from"./PostList.4738a772.js";function D(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var o,c=r(t);if(n){var a=r(this).constructor;o=Reflect.construct(c,arguments,a)}else o=c.apply(this,arguments);return e(this,o)}}function L(t){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function M(t){var n,o,c,r={ctx:t,current:null,token:null,pending:B,then:S,catch:N,value:3,blocks:[,,,]};return f(o=t[0],r),{c:function(){n=h(),r.block.c()},l:function(t){n=h(),r.block.l(t)},m:function(t,o){g(t,n,o),r.block.m(t,r.anchor=o),r.mount=function(){return n.parentNode},r.anchor=n,c=!0},p:function(n,c){if(t=n,r.ctx=t,1&c&&o!==(o=t[0])&&f(o,r));else{var e=t.slice();e[3]=r.resolved,r.block.p(e,c)}},i:function(t){c||(k(r.block),c=!0)},o:function(t){for(var n=0;n<3;n+=1){var o=r.blocks[n];x(o)}c=!1},d:function(t){t&&m(n),r.block.d(t),r.token=null,r=null}}}function N(t){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function S(t){var n,o=new E({props:{title:"Posts with tag "+t[2],posts:t[3]}});return{c:function(){y(o.$$.fragment)},l:function(t){w(o.$$.fragment,t)},m:function(t,c){P(o,t,c),n=!0},p:function(t,n){var c={};2&n&&(c.title="Posts with tag "+t[2]),1&n&&(c.posts=t[3]),o.$set(c)},i:function(t){n||(k(o.$$.fragment,t),n=!0)},o:function(t){x(o.$$.fragment,t),n=!1},d:function(t){R(o,t)}}}function B(t){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function H(t){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function I(t){var n,o,c,r,e={ctx:t,current:null,token:null,pending:H,then:M,catch:L,value:2,blocks:[,,,]};return f(c=t[1],e),{c:function(){n=p(),o=h(),e.block.c(),this.h()},l:function(t){d('[data-svelte="svelte-10h7psl"]',document.head).forEach(m),n=v(t),o=h(),e.block.l(t),this.h()},h:function(){document.title="Blog"},m:function(t,c){g(t,n,c),g(t,o,c),e.block.m(t,e.anchor=c),e.mount=function(){return o.parentNode},e.anchor=o,r=!0},p:function(n,o){var r=b(o,1)[0];if(t=n,e.ctx=t,2&r&&c!==(c=t[1])&&f(c,e));else{var a=t.slice();a[2]=e.resolved,e.block.p(a,r)}},i:function(t){r||(k(e.block),r=!0)},o:function(t){for(var n=0;n<3;n+=1){var o=e.blocks[n];x(o)}r=!1},d:function(t){t&&m(n),t&&m(o),e.block.d(t),e.token=null,e=null}}}function J(t){return K.apply(this,arguments)}function K(){return(K=t(n.mark(function t(c){var r,e,a,s,u;return n.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.params,e=r.slug,t.next=4,j(r.theuser);case 4:return a=t.sent,s=new Map,a.forEach(function(t){t.tags.forEach(function(n){s.has(n)?s.set(n,[].concat(o(s.get(n)),[t])):s.set(n,[t])})}),u=s.get(e),t.abrupt("return",{posts:u,tag:r.slug});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function O(t,n,o){var c=n.posts,r=void 0===c?[]:c,e=n.tag,a=void 0===e?"":e;return console.log("tag",a),t.$set=function(t){"posts"in t&&o(0,r=t.posts),"tag"in t&&o(1,a=t.tag)},[r,a]}export default(function(t){c(o,l);var n=D(o);function o(t){var c;return a(this,o),c=n.call(this),s(i(c),t,O,I,u,{posts:0,tag:1}),c}return o}());export{J as preload};
