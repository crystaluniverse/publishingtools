import{S as t,i as o,s,D as n,h as e,o as l,G as c,d as a,j as r,f as i,A as u,B as p,n as h,x as f,y as d,z as m,C as b}from"./client.918b8847.js";import{d as g}from"./_api.5f596b86.js";import"./showdown.20a62d9b.js";import{P as k}from"./PostList.05b7b2fa.js";function $(t){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function x(t){let o,s,e,c={ctx:t,current:null,token:null,hasCatch:!1,pending:j,then:v,catch:w,value:3,blocks:[,,,]};return n(s=t[0],c),{c(){o=l(),c.block.c()},l(t){o=l(),c.block.l(t)},m(t,s){i(t,o,s),c.block.m(t,c.anchor=s),c.mount=()=>o.parentNode,c.anchor=o,e=!0},p(o,e){if(t=o,c.ctx=t,1&e&&s!==(s=t[0])&&n(s,c));else{const o=t.slice();o[3]=c.resolved,c.block.p(o,e)}},i(t){e||(u(c.block),e=!0)},o(t){for(let t=0;t<3;t+=1){const o=c.blocks[t];p(o)}e=!1},d(t){t&&a(o),c.block.d(t),c.token=null,c=null}}}function w(t){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function v(t){let o,s;return o=new k({props:{title:"Posts with tag "+t[2],posts:t[3]}}),{c(){f(o.$$.fragment)},l(t){d(o.$$.fragment,t)},m(t,n){m(o,t,n),s=!0},p(t,s){const n={};2&s&&(n.title="Posts with tag "+t[2]),1&s&&(n.posts=t[3]),o.$set(n)},i(t){s||(u(o.$$.fragment,t),s=!0)},o(t){p(o.$$.fragment,t),s=!1},d(t){b(o,t)}}}function j(t){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function P(t){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function C(t){let o,s,h,f,d={ctx:t,current:null,token:null,hasCatch:!1,pending:P,then:x,catch:$,value:2,blocks:[,,,]};return n(h=t[1],d),{c(){o=e(),s=l(),d.block.c(),this.h()},l(t){c('[data-svelte="svelte-10h7psl"]',document.head).forEach(a),o=r(t),s=l(),d.block.l(t),this.h()},h(){document.title="Blog"},m(t,n){i(t,o,n),i(t,s,n),d.block.m(t,d.anchor=n),d.mount=()=>s.parentNode,d.anchor=s,f=!0},p(o,[s]){if(t=o,d.ctx=t,2&s&&h!==(h=t[1])&&n(h,d));else{const o=t.slice();o[2]=d.resolved,d.block.p(o,s)}},i(t){f||(u(d.block),f=!0)},o(t){for(let t=0;t<3;t+=1){const o=d.blocks[t];p(o)}f=!1},d(t){t&&a(o),t&&a(s),d.block.d(t),d.token=null,d=null}}}async function E({params:t}){let o=t.slug,s=await g(t.theuser);const n=new Map;return s.forEach((t=>{t.tags.forEach((o=>{n.has(o)?n.set(o,[...n.get(o),t]):n.set(o,[t])}))})),{posts:n.get(o),tag:t.slug}}function y(t,o,s){let{posts:n=[]}=o,{tag:e=""}=o;return console.log("tag",e),t.$$set=t=>{"posts"in t&&s(0,n=t.posts),"tag"in t&&s(1,e=t.tag)},[n,e]}export default class extends t{constructor(t){super(),o(this,t,y,C,s,{posts:0,tag:1})}}export{E as preload};
